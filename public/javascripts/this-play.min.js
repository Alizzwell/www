(function(a){"use strict";var b=b||{};this.this_play=b}).call(this),function(a){"use strict";if("undefined"==typeof this_play)throw"this_play is not declared";var b=function(b){function c(a){j=a,l.current=1,l.max=j.steps.length}function d(){j=a,l.current=0,l.max=0}function e(){return l}function f(){return j.steps[l.current-1].line}function g(a,b){if(b=b||l.current,b<1||b>l.max)return undefiend;var c=j.targets[a];return c.data=j.steps[b-1].status[a],JSON.parse(JSON.stringify(c))}function h(a){var b={};for(var c in j.targets)b[c]=k.getTarget(c,a);return b}function i(){if(l.current>=l.max)return l.current=l.max,void(k.events.end&&k.events.end());if(l.current++,k.events.step&&k.events.step(),k.events.change){var a={},b=!1;for(var c in j.targets){var d=k.getTarget(c,l.current-1),e=k.getTarget(c);d.data.toString()!=e.data.toString()&&(b=!0,a[c]=e,a[c].before=d.data)}b&&k.events.change(a)}}var j,k=this,l={current:0,max:0};b&&c(b),this.events=[],this.bind=c,this.unbind=d,this.getStep=e,this.getLine=f,this.getTarget=g,this.getTargets=h,this.step=i};b.prototype.on=function(a,b){this.events[a]=b},this_play.Scheduler=b}.call(this);